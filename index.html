<!DOCTYPE html>
<html lang='en'>
 <head>
    <meta charset='utf-8'>
    <link rel="stylesheet" href="style.css">
    <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico">
    <title>Build plate thermal simulation</title>
    <script type="importmap">
        {
            "imports": {
                "three": "/external/three/three.module.js",
                "OrbitControls": "/external/three/OrbitControls.js",
                "GLTFLoader": "/external/three/GLTFLoader.js",
                "Visualization": "/modules/visualization.js",
                "Simulation": "/modules/simulation.js"
            }
        }
    </script>
    <script src="/external/gpu/gpu-browser.js"></script>
    <script type="module" src="app.js" defer></script>
</head>

<body>
    <div id="simulation" class="simulation"></div>
    <div id="ui" class="layout">
        <div class="simulation-button-row">
            <button class="simulation-button" id="startSimulationButton">Play</button>
            <button class="simulation-button" id="stepSimulationButton">Step</button>
            <button class="simulation-button" id="resetSimulationButton">Reset</button>
        </div>
        <div class="parameter-section">
            <div class="parameter-column">
                <h3 class="parameter-row-header">Simulation time</h3>
                <div id="timer"></div>
                <h3 class="parameter-row-header">Build surface</h3>
                <div id="temperature-center"></div>
                <div id="temperature-edge"></div>
                <div id="temperature-corner"></div>
                <h3 class="parameter-row-header">Build plate</h3>
                <div id="temperature-core"></div>
                <h3 class="parameter-row-header">Thermistors</h3>
                <div id="temperature-thermistor"></div>
                <div id="temperature-heater"></div>
                <h3 class="parameter-row-header">Heater power</h3>
                <div><span id="heater-controlled-wattage"></span></div>
            </div>
            <div class="parameter-column">
                <h3 class="parameter-row-header">Environment</h3>
                <x-parameter id="ambient_temperature_parameter"></x-parameter>
                <h3 class="parameter-row-header">Build plate</h3>
                <x-parameter id="plate_width_parameter"></x-parameter>
                <x-parameter id="plate_height_parameter"></x-parameter>
                </span><x-parameter id="plate_depth_parameter"></x-parameter>
                <h3 class="parameter-row-header">Heater</h3>
                <x-parameter id="heater_width_parameter"></x-parameter>
                <x-parameter id="heater_height_parameter"></x-parameter>
                <x-parameter id="heater_conductivity_parameter"></x-parameter>
                <x-parameter id="heater_power_parameter"></x-parameter>
                <div class="missing-parameter">Thickness: 2 mm (fixed)</div>

                <h3 class="parameter-row-header">Magnetic sticker</h3>
                <x-parameter id="magnetic_mat_conductivity_parameter"></x-parameter>
                <div class="missing-parameter">Thickness: 2 mm (fixed)</div>
                <h3 class="parameter-row-header">PEI spring steel sheet</h3>
                <div class="missing-parameter">(Not included in simulation)</div>
                </br>
            </div>
        </div>
    </div>
    <div class="footer">Please note, this simulation is just a toy. Accuracy is not guaranteed. (Version 0.1.4)</div>
</div>
</html>